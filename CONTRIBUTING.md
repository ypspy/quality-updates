# 기여 가이드 (Contributing to Quality Updates)

Quality Updates 프로젝트에 기여해 주셔서 감사합니다.  
이 문서는 이슈 보고, Pull Request(PR) 제출, 코드/콘텐츠 스타일, 테스트 방법을 안내합니다.

---

## 목차

1. [행동 강령](#행동-강령)
2. [이슈 보고](#이슈-보고)
3. [Pull Request 워크플로우](#pull-request-워크플로우)
4. [코드 스타일 가이드](#코드-스타일-가이드)
5. [커밋 메시지 규칙](#커밋-메시지-규칙)
6. [콘텐츠 추가 절차](#콘텐츠-추가-절차)
7. [테스트 체크리스트](#테스트-체크리스트)
8. [이미지 및 alt 텍스트 가이드라인](#이미지-및-alt-텍스트-가이드라인)
9. [성능 고려사항](#성능-고려사항)

---

## 행동 강령

- 존중하는 말과 태도로 소통해 주세요.
- 건설적인 피드백과 개선 제안을 환영합니다.
- 개인정보·내부 정보를 이슈·PR·커밋에 포함하지 마세요.

---

## 이슈 보고

### 보고 전 확인

- [이미 열린 이슈](https://github.com/YOUR_ORG/quality-updates/issues) 에 동일 내용이 없는지 검색해 주세요.
- 재현 가능한 버그는 환경(OS, Python 버전, 브라우저)을 명시해 주세요.

### 이슈 템플릿 권장 사항

**버그 리포트**

- **요약**: 한 문장으로 현상 설명
- **재현 절차**: 단계별로 어떻게 하면 발생하는지
- **예상 동작** vs **실제 동작**
- **환경**: OS, Python 버전, `mkdocs --version` (또는 Node/npm 버전)
- **스크린샷/로그**: 가능하면 첨부

**기능/개선 제안**

- **목표**: 무엇을 개선하고 싶은지
- **제안 내용**: 구체적인 방안
- **대안**: 고려했던 다른 방법이 있다면 간단히 기술

### 라벨

- `bug`: 버그
- `documentation`: 문서 수정·보완
- `enhancement`: 기능·UI 개선
- `content`: 규제 업데이트·품질관리감리 콘텐츠
- `good first issue`: 신규 기여자에게 적합한 이슈

---

## Pull Request 워크플로우

### 1. Fork & Clone

- 저장소를 Fork한 뒤 본인 계정으로 Clone합니다.
- `main`과 동기화된 상태에서 작업 브랜치를 만듭니다.

```bash
git checkout -b feature/your-feature-name
# 또는
git checkout -b fix/describe-the-fix
```

### 2. 변경 작업

- 로컬에서 `mkdocs serve` 또는 `npm run dev`로 미리보기를 확인합니다.
- 문서 수정 시 `npm run lint:md`(markdownlint)를 실행해 규칙 위반이 없는지 확인합니다.
- 필요 시 `.editorconfig`에 맞춰 포맷을 맞춥니다.

### 3. 빌드 검증

```bash
# 가상환경 활성화 후
pip install -r requirements.txt
mkdocs build --strict
```

경고 없이 빌드가 완료되어야 합니다.

### 4. PR 제출

- **제목**: 변경 내용을 요약 (한국어·영어 모두 가능)
- **설명**: 무엇을 왜 수정했는지, 이슈 번호가 있으면 `Closes #NN` 로 링크
- **체크리스트**: [테스트 체크리스트](#테스트-체크리스트) 중 적용 가능한 항목을 PR 설명에 적어 두면 검토가 수월합니다.

### 5. 리뷰 후 머지

- 메인테이너 리뷰 후 머지됩니다.
- `main` 브랜치 푸시 시 Render에서 자동 배포됩니다.

---

## 코드 스타일 가이드

### Markdown

- **파일 인코딩**: UTF-8
- **줄 끝**: LF (Unix 스타일). `.editorconfig`에서 통일됩니다.
- **제목 계층**: 문서 맨 위에는 하나의 H1(`#`)만 사용하고, 그 아래로 H2→H3 순서를 유지합니다.
- **리스트**: 불릿/번호 리스트 끝 줄바꿈 후 빈 줄 하나 둡니다.
- **링크**: 가능하면 설명 텍스트를 넣어 `[설명 텍스트](url)` 형태로 작성합니다.
- **한국어**: 띄어쓰기·맞춤법을 지킵니다. 본 프로젝트는 `.markdownlint.json`에서 **MD013(줄 길이 제한)** 을 비활성화해 두었으며, 가독성을 위해 과도하게 긴 한 줄은 적당히 나누는 것을 권장합니다.

### YAML (mkdocs.yml, 프론트매터)

- **들여쓰기**: 스페이스 2칸
- **불리언/숫자**: 따옴표 없이 작성해도 되며, 문자열에 `:` 이 포함되면 따옴표로 감쌉니다.
- **리스트**: `- item` 형태를 사용합니다.
- **프론트매터**: 문서 최상단 `---` ... `---` 사이에만 두고, 키는 소문자+언더스코어(스네이크 케이스)를 사용합니다.

### CSS

- **들여쓰기**: 스페이스 2칸
- **선택자**: 가능하면 클래스 단위로, ID는 필요한 경우만 사용합니다.
- **속성 순서**: 레이아웃·박스 모델 → 타이포그래피 → 색상·배경 → 기타 순서를 권장합니다.
- **반응형**: 미디어 쿼리는 `docs/assets/stylesheets/extra.css` 내에서 기존 브레이크포인트(예: 76.1875em, 44.9375em)와 맞추어 추가합니다.

### JavaScript

- **파일**: `docs/assets/javascripts/extra.js`. IIFE 래퍼로 전역 스코프 오염을 막는 형태를 유지합니다.
- **스타일**: 들여쓰기 스페이스 2칸, 세미콜론 사용을 권장합니다.

---

## 커밋 메시지 규칙

- **형식**: 가능하면 다음 형태를 사용합니다.  
  `타입(범위): 짧은 설명`
- **타입 예**: `docs`, `fix`, `feat`, `style`, `chore`, `refactor`
- **범위 예**: `content`, `config`, `nav`, `css`, `readme`
- **예시**:
  - `docs(content): 2024 4분기 규제 업데이트 추가`
  - `fix(css): iframe 가로 스크롤 버그 수정`
  - `chore(deps): mkdocs-material 9.5.3 고정`

본문에 상세 이유·이슈 번호를 적어 두면 나중에 검색하기 좋습니다.

---

## 콘텐츠 추가 절차

### 분기별 규제 업데이트 문서

1. **파일 생성**: `docs/quality-updates/YYYY/YYYY-MM-DD_to_YYYY-MM-DD.md`
2. **프론트매터**: [README.md - 콘텐츠 업데이트 가이드](README.md#콘텐츠-업데이트-가이드)의 템플릿을 복사해 기간·연도·분기·기관에 맞게 수정합니다.
3. **본문**: 기존 분기 문서와 동일한 섹션 구조(금융감독원, 보도자료 등)를 따릅니다.
4. **탐색 등록**: `mkdocs.yml`의 `nav` → `규제 업데이트` → 해당 연도 아래에 새 항목을 추가합니다. 레이블 예: `N분기 (MM–MM월)`.
5. **(선택)** 홈페이지 `docs/index.md`의 "Latest Update" 블록과 규제 업데이트 링크가 새 문서를 가리키도록 갱신합니다.

### 품질관리감리·기타 콘텐츠

- 새 파일에 `title`, `description` 등 최소 프론트매터를 넣습니다.
- `mkdocs.yml`의 `nav`에 반드시 등록합니다.

---

## 테스트 체크리스트

PR 전 또는 로컬 배포 전에 아래 항목을 확인하면 좋습니다.

### 빌드·린트

- [ ] `mkdocs build --strict` 성공 (경고 없음)
- [ ] `npm run lint:md` 통과 (Markdown 린트)

### 탐색·검색

- [ ] 사이드바·탭에서 새 페이지가 보이고 링크가 정상 동작
- [ ] 검색어 입력 시 해당 문서가 노출되는지 확인
- [ ] 브레드크럼이 올바르게 표시되는지 확인

### UI·반응형

- [ ] 라이트/다크 테마 전환 동작
- [ ] 모바일 뷰에서 테이블·레이아웃이 깨지지 않음
- [ ] 이미지 클릭 시 라이트박스 동작 (해당 이미지가 있는 페이지)

### 링크·접근성

- [ ] 내부/외부 링크 404 없음
- [ ] 필요 시 키보드만으로 탐색 가능한지 확인
- [ ] 이미지에 alt 텍스트가 있으면 스크린 리더로 확인 (선택)

---

## 이미지 및 alt 텍스트 가이드라인

### 이미지 추가 시

- **위치**: `docs/assets/images/` 또는 콘텐츠별 하위 폴더
- **형식**: PNG, JPG, SVG 등 MkDocs/Material에서 지원하는 형식
- **크기**: 가능하면 1MB 미만. 대용량 이미지는 리사이즈·압축 후 올립니다.

### alt 텍스트

- **의무**: 정보를 전달하는 이미지는 반드시 `alt`를 붙입니다.
- **형식**:  
  `![설명 텍스트](경로/이미지.png)`  
  설명 텍스트는 이미지 내용을 한두 문장으로 요약합니다. 장식용 이미지는 `alt=""` 로 두어 스크린 리더가 건너뛰게 할 수 있습니다.
- **한국어**: 주요 사용자가 한국어이므로 alt도 한국어로 작성하는 것을 권장합니다.

### 예시

```markdown
![금감원 로고](assets/images/fss-logo.png)
![2024년 4분기 규제 요약 차트](assets/images/2024-q4-summary.png)
```

---

## 성능 고려사항

### 파일 크기

- **단일 마크다운 파일**: 가능하면 2,000줄 이하로 유지합니다. 분기별 문서가 매우 길어지면 기간을 나누거나 하위 문서로 분리하는 것을 검토하세요.
- **이미지**: 한 페이지당 총 이미지 용량이 과도하게 커지지 않도록 합니다.  
  권장: 개별 이미지 500KB 이하, 페이지당 합계 1MB 이하 (참고 수치).

### 최적화

- MkDocs 빌드 시 **minify** 플러그인이 HTML/CSS/JS를 압축합니다. 별도 설정 없이 적용됩니다.
- 대용량 문서는 **TOC 깊이**(`toc_depth`)를 조절해 사이드바 TOC가 너무 길어지지 않게 할 수 있습니다.
- 외부 링크는 `target="_blank"` 등 필요 시에만 사용하고, 내부 탐색은 기본 동작을 유지합니다.

### 대용량 파일 분할 권장

- 한 파일이 수백 개 링크만 나열하는 구조라면, **기관별·월별** 등으로 나누어 여러 문서로 분리하는 것을 권장합니다.
- 분할 후에는 `mkdocs.yml`의 `nav`와 홈/인덱스 페이지 링크를 함께 갱신해야 합니다.

---

## 문의

이슈·PR 외에 정책·운영 관련 문의가 있으면 저장소 관리자에게 이슈로 남겨 주세요.

감사합니다.
